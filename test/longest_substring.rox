// Longest Substring Without Repeating Characters
// Given a string s, find the length of the longest substring without repeating characters.

// Helper to check if char is in list
function contains(list[char] items, char c) -> bool {
    int64 n = items.size();
    repeat i in range(0, n, 1) {
        rox_result[char] r = items.at(i);
        if (isOk(r)) {
            char val = getValue(r);
            if (val == c) {
                return true;
            }
        }
    }
    return false;
}

function length_of_longest_substring(list[char] items) -> int64 {
    int64 n = items.size();
    int64 max_len = 0;

    int64 left = 0;

    repeat k in range(0, n, 1) {
       rox_result[char] r_k = items.at(k);

       if (isOk(r_k)) {
           char c = getValue(r_k);

           bool found = false;
           int64 found_index = 0;

           repeat j in range(left, k, 1) {
               rox_result[char] r_j = items.at(j);
               if (isOk(r_j)) {
                    char char_j = getValue(r_j);
                    if (char_j == c) {
                        found = true;
                        found_index = j;
                    }
               }
           }

           if (found) {
               if (found_index >= left) {
                   left = found_index + 1;
               }
           }

           int64 current_len = k - left + 1;
           if (current_len > max_len) {
               max_len = current_len;
           }
       } else {
           return 0;
       }
    }

    return max_len;
}

function main() -> none {
    // "abcabcbb" -> 3 ("abc")
    // "bbbbb" -> 1 ("b")
    // "pwwkew" -> 3 ("wke")

    list[char] s1 = ['a','b','c','a','b','c','b','b'];
    if (length_of_longest_substring(s1) == 3) {

        list[char] s2 = ['b','b','b','b','b'];
        if (length_of_longest_substring(s2) == 1) {

            list[char] s3 = ['p','w','w','k','e','w'];
            if (length_of_longest_substring(s3) == 3) {
                print("Longest Substring: Passed\n");
                return none;
            }
        }
    }

    print("Longest Substring: Failed\n");
}
