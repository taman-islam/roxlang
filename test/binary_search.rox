// Binary Search
// Given sorted array int64s, return index of target or -1.


function binary_search_recursive(list[int64] int64s, int64 target, int64 low, int64 high) -> int64 {
    if (low > high) {
        return -1;
    }

    int64 diff = high - low;
    rox_result[int64] r_div = diff / 2;
    if (isOk(r_div)) {
        int64 half = getValue(r_div);
        int64 mid = low + half;

        rox_result[int64] r = int64s.at(mid);
        if (isOk(r)) {
            int64 midVal = getValue(r);
            if (midVal == target) {
                return mid;
            } else if (midVal < target) {
                return binary_search_recursive(int64s, target, mid + 1, high);
            } else {
                return binary_search_recursive(int64s, target, low, mid - 1);
            }
        }
    }

    return -1;
}

function search(list[int64] int64s, int64 target) -> int64 {
    int64 n = int64s.size();
    if (n == 0) { return -1; }
    return binary_search_recursive(int64s, target, 0, n - 1);
}

function main() -> none {
    list[int64] int64s = [-1, 0, 3, 5, 9, 12];

    // Search for 9 (index 4)
    if (search(int64s, 9) == 4) {
        // Search for 2 (not found)
        if (search(int64s, 2) == -1) {
             print("Binary Search: Passed\n");
             return none;
        }
    }

    print("Binary Search: Failed\n");
}
