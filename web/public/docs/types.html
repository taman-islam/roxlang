<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ROX Types - Documentation</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, monospace;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      margin: 0;
      background: #1e1e1e;
      color: #d4d4d4;
    }

    nav {
      background: #252526;
      padding: 15px 20px;
      display: flex;
      align-items: center;
      border-bottom: 1px solid #3e3e42;
    }

    nav a {
      color: #d4d4d4;
      text-decoration: none;
      margin-right: 20px;
      font-weight: 500;
    }

    nav a:hover,
    nav a.active {
      color: #569cd6;
    }

    nav .brand {
      font-weight: bold;
      font-size: 18px;
      color: #569cd6;
      margin-right: 40px;
    }

    .content {
      max-width: 800px;
      margin: 0 auto;
      padding: 40px 20px;
      line-height: 1.6;
    }

    h1,
    h2 {
      color: #569cd6;
      margin-top: 30px;
    }

    h1 {
      border-bottom: 1px solid #3e3e42;
      padding-bottom: 10px;
    }

    code {
      background: #2d2d2d;
      padding: 2px 5px;
      border-radius: 4px;
      font-family: monospace;
      color: #ce9178;
    }

    pre {
      background: #2d2d2d;
      padding: 15px;
      border-radius: 6px;
      overflow-x: auto;
    }

    pre code {
      background: none;
      padding: 0;
      color: #d4d4d4;
    }

    .type-tag {
      display: inline-block;
      background: #0e639c;
      color: white;
      padding: 2px 6px;
      border-radius: 4px;
      font-size: 12px;
      margin-left: 10px;
      vertical-align: middle;
    }
  </style>
</head>

<body>
  <nav>
    <span class="brand">ROX</span>
    <a href="/">Playground</a>
    <a href="/docs.html">Docs</a>
    <a href="/docs/types.html" class="active">Types</a>
    <a href="/docs/control.html">Control</a>
    <a href="/docs/collections.html">Collections</a>
    <a href="/docs/functions.html">Functions</a>
  </nav>

  <div class="content">
    <h1>Types</h1>
    <p>ROX is a statically typed language. All types must be explicit.</p>

    <h2>Primitive Types</h2>

    <h3>int64 <span class="type-tag">64-bit Signed Integer</span></h3>
    <p>The default integer type. Used for most arithmetic and list indexing.</p>
    <pre><code>int64 x = 42;
int64 y = -100;</code></pre>

    <h3>float64 <span class="type-tag">64-bit Floating Point</span></h3>
    <p>Double-precision floating-point number. Used for decimal calculations.</p>
    <pre><code>float64 pi = 3.14159;
float64 price = 19.99;</code></pre>


    <h3>bool <span class="type-tag">Boolean</span></h3>
    <p>Values: <code>true</code> or <code>false</code>.</p>
    <pre><code>bool is_valid = true;
if (is_valid) { ... }</code></pre>

    <h3>char <span class="type-tag">Character</span></h3>
    <p>Represents a single ASCII character.</p>
    <pre><code>char c = 'A';</code></pre>

    <h3>string <span class="type-tag">String</span></h3>
    <p>Immutable sequence of bytes (UTF-8). Literals use double quotes.</p>
    <pre><code>string s = "Hello";
int64 len = s.size();
rox_result[char] c = s.at(0);

print(s); // Prints "Hello"</code></pre>

    <h3>none <span class="type-tag">Unit Type</span></h3>
    <p>Represents the absence of a value (similar to <code>void</code> in C++). Used as the return type for functions
      that do not return data.</p>
    <pre><code>function log() -> none {
    print(['H','i','\n']);
    return none;
}</code></pre>

    <h2>Composite Types</h2>
    <h3>list[T] <span class="type-tag">Dynamic Array</span></h3>
    <p>Ordered collection of elements of type <code>T</code>.</p>
    <pre><code>list[int64] numbers = [1, 2, 3];
rox_result[int64] res = numbers.at(0);
if (isOk(res)) {
    int64 first = getValue(res);
}</code></pre>

    <h3>dictionary[K, V] <span class="type-tag">Hash Map</span></h3>
    <p>Key-value pairs. Keys must be comparable (int64, string, bool, char).</p>
    <pre><code>dictionary[string, int64] scores;
scores.set("Alice", 100);
rox_result[int64] res = scores.get("Alice");
if (isOk(res)) {
    int64 score = getValue(res);
}</code></pre>

    <h2>Result Type</h2>
    <h3>rox_result[T]</h3>
    <p>ROX does not use exceptions. Operations that can fail return a <code>rox_result[T]</code>.</p>
    <p>You must check if the result is valid using <code>isOk()</code> before extracting the value with
      <code>getValue()</code>.
    </p>
    <pre><code>rox_result[int64] result = list.at(5);

if (isOk(result)) {
    int64 val = getValue(result);
} else {
    print("Error: ", getError(result), "\n");
}</code></pre>
    <p>Use <code>getError(result)</code> to retrieve the error message (string) if <code>isOk()</code> returns false.
    </p>

    <h2>Record Types</h2>
    <p>User-defined types with named, typed fields. Define with the <code>type</code> keyword.</p>
    <pre><code>type User {
    id: int64
    name: string
}</code></pre>

    <h3>Construction</h3>
    <p>All fields are required. Use named-field initializers:</p>
    <pre><code>User u = User{ id: 7, name: "Taman" };</code></pre>

    <h3>Field Access &amp; Mutation</h3>
    <pre><code>print(u.name);       // access
u.name = "Apon";      // mutation</code></pre>

    <h3>Copy Semantics</h3>
    <p>Assignment copies the entire record. No aliasing.</p>
    <pre><code>User b = a;  // b is an independent copy</code></pre>

    <h3>Zero Constructor</h3>
    <p><code>default(T)</code> returns the zero/empty value for any type:</p>
    <pre><code>User empty = default(User);    // id=0, name=""
string s = default(string);    // ""
int64 n = default(int64);      // 0
list[int64] l = default(list[int64]);  // []</code></pre>
    <p><strong>Rule</strong>: Uninitialized record declarations are banned. <code>User u;</code> is a compile error.</p>

    <h3>Nested Records</h3>
    <pre><code>type Address {
    city: string
    country: string
}

type User {
    id: int64
    address: Address
}

User u = default(User);
print(u.address.city);  // ""</code></pre>

    <h3>Compile-Time Checks</h3>
    <ul>
      <li>Missing required fields</li>
      <li>Unknown field names</li>
      <li>Duplicate fields</li>
      <li>Field type mismatches</li>
      <li>Unknown field access</li>
      <li>Uninitialized record declaration</li>
    </ul>
  </div>
</body>

</html>